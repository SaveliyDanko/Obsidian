**Образы в Docker состоят из повторно используемых слоёв.**
Docker использует концепцию многоуровневого хранения (multi-layered storage). Каждый слой — это результат выполнения одной команды из Dockerfile (например, `RUN`, `COPY`, `ADD`). Эти слои кэшируются и могут использоваться повторно.

**Повторное использование слоёв:**
- Если два образа используют одинаковую базу (например, одну и ту же версию Java), Docker не дублирует файлы.

- Это экономит дисковое пространство, время сборки и сетевой трафик.

- Если базовый слой уже загружен на хост, при создании нового образа с тем же слоем Docker просто ссылается на уже существующий слой.

#### Изоляция файловой системы в контейнере:
Docker контейнеры работают в изолированном файловом пространстве, создавая иллюзию, что у контейнера есть собственная файловая система с корнем `/`.
- На самом деле контейнер использует набор **read-only слоёв образа**, на основе которого он создан. Эти слои могут быть созданы на основе различных базовых образов, таких как Ubuntu, Alpine или Java.

- **Container layer (read-write):** При запуске контейнера поверх всех read-only слоёв создаётся слой, доступный для записи. Это позволяет контейнеру изменять данные во время выполнения без изменения базового образа.

#### Изоляция через MNT namespace:
Docker применяет `MNT namespace` (пространство имён монтирования) для каждого контейнера:
- Это даёт контейнеру своё собственное дерево монтирования.

- Контейнер не видит и не может использовать каталоги хостовой машины или других контейнеров.

- Даже если у контейнера есть права суперпользователя, он не сможет получить доступ к файловой системе хоста, так как монтирование находится в другом пространстве имён.

#### Chroot (Change Root):
Команда `chroot` позволяет изменить корневую директорию процесса на указанную в контейнере.
- Это создаёт иллюзию, что `/` у контейнера — корень файловой системы, хотя на самом деле он находится в отдельном пространстве.

- Именно эта техника используется для ограничения контейнера в его собственном корневом пространстве.
