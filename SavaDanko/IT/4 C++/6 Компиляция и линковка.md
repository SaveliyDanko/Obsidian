#### <mark style="background: #ABF7F7A6;">1. Этапы компиляции</mark>
Компилятор C++ выполняет следующие шаги:

##### ==1.1 Препроцессинг (Preprocessing)==
На этом этапе обрабатываются директивы препроцессора (`#include`, `#define`, `#ifdef` и др.).  
Команда для просмотра результата препроцессора:
```bash
g++ -E main.cpp -o main.i
```

**Что происходит?**
- Заголовочные файлы заменяются их содержимым.
- Макросы разворачиваются.
- Условная компиляция применяется (`#ifdef`, `#ifndef`).
- Удаляются комментарии.

##### ==1.2 Компиляция (Compilation)==
После препроцессинга компилятор переводит код C++ в машинозависимый ассемблерный код.

Команда для просмотра ассемблерного кода:
```bash
g++ -S main.i -o main.s
```

**Что происходит?**
- Код C++ преобразуется в ассемблер.
- Проверяются синтаксические и семантические ошибки.

##### ==1.3 Ассемблирование (Assembly)==
Ассемблер (`as`) переводит ассемблерный код в объектный код (`.o` или `.obj`).

Команда:
```bash
g++ -c main.s -o main.o
```

**Что происходит?**
- Генерируется объектный код (`.o` / `.obj`).
- Этот код еще не является исполняемым, так как не содержит всех зависимостей.

##### ==1.4 Линковка (Linking)==
На этапе линковки объектные файлы объединяются в исполняемый файл.

Команда:
```bash
g++ main.o mathutils.o -o program
```

**Что происходит?**
- Разрешаются внешние ссылки (функции, объявленные, но не реализованные в текущем файле).
- Подключаются библиотеки (например, `libstdc++`).
- Формируется конечный исполняемый файл.

#### <mark style="background: #ABF7F7A6;">2. Компиляция многомодульного проекта</mark>
При работе с большими проектами принято разделять код на `.h` и `.cpp` файлы.  

Пример проекта:
```
project/
│── main.cpp
│── mathutils.h
│── mathutils.cpp
```

##### **Компиляция поэтапно:**
```bash
g++ -c main.cpp -o main.o
g++ -c mathutils.cpp -o mathutils.o
g++ main.o mathutils.o -o program
```

**Почему так лучше?**  
Если изменился только `mathutils.cpp`, не нужно компилировать `main.cpp` заново, достаточно пересобрать измененный файл и перелинковать.

#### <mark style="background: #ABF7F7A6;">3. Линковка с внешними библиотеками</mark>
Если вы используете сторонние библиотеки (например, OpenCV, SFML, Boost), их нужно явно указать.

**Пример линковки с OpenCV:**
```bash
g++ main.cpp -o program `pkg-config --cflags --libs opencv4`
```

#### <mark style="background: #ABF7F7A6;">4. Статическая и динамическая линковка</mark>
##### **Статическая линковка**
- Библиотеки **включаются в исполняемый файл**.
- Исполняемый файл больше, но не требует внешних зависимостей.
- Используется флаг `-static`:
```bash
g++ main.cpp -o program -static
```
  
##### **Динамическая линковка**
- Библиотеки загружаются **во время выполнения**.
- Исполняемый файл меньше, но требует наличия `.so` / `.dll`.
- Используется стандартная линковка (`-l<lib>`):
```bash
g++ main.cpp -o program -L/usr/lib -lmylib
```    
