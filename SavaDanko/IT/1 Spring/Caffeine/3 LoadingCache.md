---
tags:
  - review
sr-due: 2026-04-05
sr-interval: 76
sr-ease: 250
---

---
`LoadingCache` в Caffeine — это кэш, который сам загружает данные.

Когда ты вызываешь `cache.get(key)` и ключ отсутствует, Caffeine автоматически вызывает указанный loader, сохраняет результат и возвращает его.

###### **Основные особенности:**
- Автоматическая загрузка значения, если его нет в кэше.
- Гарантированная атомарность — один ключ загружается только один раз, даже при множестве потоков.
- Можно использовать refreshAfterWrite — кэш обновляет данные в фоне, не блокируя запросы.
- Поддерживает синхронный (`LoadingCache`) и асинхронный (`AsyncLoadingCache`) варианты.

###### **Пример:**
```java
LoadingCache<String, User> cache = Caffeine.newBuilder()
    .maximumSize(1000)
    .build(id -> loadUser(id));
```

Теперь:
```java
cache.get("123"); 
```
— вернёт либо значение из кэша, либо вызовет `loadUser("123")`.
