### ==1. **Команда `%define`**:==
- Команда `%define` используется для объявления макросов, которые раскрываются (подставляются) **в момент использования** в коде.
- Это означает, что при каждом обращении к макросу его содержимое заменяется на текущее значение переменных, используемых внутри макроса.
- Следовательно, можно менять значения переменных между вызовами макроса, и при каждом новом использовании макроса будут применяться актуальные значения переменных.

#### Пример:
```asm
%define i 1
%define d i * 3

mov rax, d  ; раскрытие: mov rax, 1 * 3

%define i 100

mov rax, d  ; раскрытие: mov rax, 100 * 3
```
Здесь `i` меняется между вызовами, и макрос `d` динамически подставляет новые значения переменной `i`.

### ==2. **Команда `%xdefine`**:==
- `%xdefine` работает по-другому: макрос раскрывается (подставляется) **в момент его объявления**, а не в момент использования.
- Это означает, что все переменные внутри макроса фиксируются в момент объявления макроса, и последующие изменения значений этих переменных не влияют на макрос.

#### Пример:
```asm
%define i 1
%xdefine d i * 3  ; макрос d фиксирует текущее значение i = 1

mov rax, d  ; раскрытие: mov rax, 1 * 3

%define i 100

mov rax, d  ; раскрытие: mov rax, 1 * 3 (значение d не изменилось)
```
Здесь макрос `d` при объявлении зафиксировал значение переменной `i = 1`, и последующие изменения значения `i` не влияют на макрос.

### ==3. **Отмена макроса с помощью `%undef`**:==
- Команда `%undef` используется для отмены ранее объявленного макроса. После вызова `%undef` имя макроса больше не будет распознаваться препроцессором, и при попытке его использования возникнет ошибка.

#### Пример:
```asm
%define x 10

mov rax, x  ; раскрытие: mov rax, 10

%undef x    ; отменяем макрос x

mov rax, x  ; ошибка: макрос x не определён
```
