Команды `repe` (repeat while equal) и `repne` (repeat while not equal) в x86-64 ассемблере используются как префиксы для повторения операций над строками или массивами данных. Они применяются в сочетании с инструкциями, которые работают с блоками памяти (например, `movsb`, `cmpsb`, `scasb`), для выполнения повторяющихся операций до тех пор, пока не выполнится определённое условие.

### ==1. **`repe` (repeat while equal)**==
- **Полное название**: `repe` — **repeat while equal** или **repeat while zero**.
- **Описание**: Инструкция повторяется, пока условие равенства сохраняется, то есть флаг `ZF` (Zero Flag) установлен в 1.

#### Пример использования `repe`:
```asm
repe cmpsb
```
- **Объяснение**: 
  - Эта команда будет повторять операцию `cmpsb` (сравнение байт) до тех пор, пока сравниваемые байты равны (флаг `ZF` равен 1) и регистр счётчика `RCX` не станет равным нулю.
  - После каждой итерации счётчик `RCX` уменьшается на 1, а указатели регистров `RSI` и `RDI` (обычно используемые для указания на исходный и целевой массивы соответственно) инкрементируются или декрементируются в зависимости от состояния флага направления (`DF`).

#### Пример:
```asm
section .data
    src_string db 'Hello, world!', 0
    dst_string db 'Hello, earth!', 0

section .text
    global _start

_start:
    mov rsi, src_string       ; Указатель на исходную строку
    mov rdi, dst_string       ; Указатель на целевую строку
    mov rcx, 13               ; Длина строк для сравнения
    repe cmpsb                ; Повторять сравнение, пока байты равны

    jnz strings_not_equal     ; Если строки не равны (ZF = 0), переход к обработке
    ; иначе продолжаем работу

strings_not_equal:
    ; Действия, если строки не равны
    mov rax, 60               ; Системный вызов выхода
    xor rdi, rdi              ; Статус выхода 0
    syscall
```
- В этом примере строки будут сравниваться по байтам до тех пор, пока они равны (или пока не достигнута длина строки). Если строки различаются, выполнение перейдёт к метке `strings_not_equal`.

### ==2. **`repne` (repeat while not equal)**==
- **Полное название**: `repne` — **repeat while not equal** или **repeat while not zero**.
- **Описание**: Инструкция повторяется до тех пор, пока сравнение не находит равенства, то есть флаг `ZF` (Zero Flag) не установлен (равен 0).

#### Пример использования `repne`:
```asm
repne scasb
```
- **Объяснение**: 
  - Эта команда будет повторять операцию `scasb` (поиск байта) до тех пор, пока найденный байт не совпадёт с байтом, хранящимся в регистре `AL`, и флаг `ZF` не станет равен 1 (т.е. до тех пор, пока не будет найдено совпадение), либо пока не исчерпается количество повторений, заданное в регистре `RCX`.

#### Пример:
```asm
section .data
    my_string db 'Hello, world!', 0
    char_to_find db 'o'

section .text
    global _start

_start:
    mov rdi, my_string       ; Указатель на строку
    mov al, [char_to_find]   ; Символ для поиска ('o')
    mov rcx, 13              ; Длина строки для поиска
    repne scasb              ; Повторять поиск, пока не найдём 'o' или не исчерпается строка

    jz char_found            ; Если символ найден (ZF = 1), переход к обработке
    ; иначе продолжаем работу

char_found:
    ; Действия после нахождения символа
    mov rax, 60              ; Системный вызов выхода
    xor rdi, rdi             ; Статус выхода 0
    syscall
```
- В этом примере команда `repne scasb` будет искать символ `'o'` в строке до тех пор, пока он не будет найден, или пока не закончатся байты в строке.

### ==Общее поведение префиксов `rep`, `repe` и `repne`:==
1. **`rep`** (repeat) — используется для повторения операции фиксированное количество раз (в зависимости от значения регистра `RCX`).
2. **`repe` / `repz`** (repeat while equal / repeat while zero) — операция повторяется, пока флаг `ZF` установлен и счётчик `RCX` не равен нулю.
3. **`repne` / `repnz`** (repeat while not equal / repeat while not zero) — операция повторяется, пока флаг `ZF` сброшен и счётчик `RCX` не равен нулю.

Эти префиксы оптимизируют выполнение повторяющихся операций над строками и массивами, позволяя избежать явных циклов в коде.