---
tags:
  - review
---

---
`volatile` в Java используется для управления доступом к переменной между потоками, обеспечивая видимость изменений переменной всеми потоками.
1. Запись в переменную будет немедленно видна другим потокам
2. Поток всегда читает значение из основной памяти, а не из кэша процессора или регистра.
    
```java
public class VolatileExample {
    private volatile boolean running = true;

    public void runLoop() {
        while (running) {
            // doing work
        }
    }

    public void stop() {
        running = false; // другой поток может остановить цикл
    }
}
```
Без `volatile`, поток с `runLoop()` может никогда не увидеть изменение переменной `running`, из-за кеширования.


`volatile`:
- Не обеспечивает атомарности: `volatile` не спасает от гонок при многократных операциях (`i++`, `counter += 1`).
