---
tags:
  - review
  - java
sr-due: 2026-07-03
sr-interval: 180
sr-ease: 290
---
---
[Permgen and Metaspace](https://topjava.ru/blog/permgen-and-metaspace)

---
Metaspace – область памяти, появившаяся в 8 версии Java и заменившая устаревшую PermGen. Основное их отличие заключается в способе распределения памяти.
![[Pasted image 20251102000736.png]]
По умолчанию, `Metaspace` увеличивается автоматически. Однако у нас есть возможность управления памятью:  
- При помощи `MetaspaceSize` и `MaxMetaspaceSize` можно задать границы `Metaspace` области.  
- `MinMetaspaceFreeRatio` — минимальный зарезервированный размер памяти для метаданных классов после сборки мусора. Выражается в процентах от общего размера Metaspace области.  
- `MaxMetaspaceFreeRatio` — максимальный зарезервированный размер памяти для метаданных классов после сборки мусора. Используется для предотвращения сокращения объема пространства, заполнение которого вызывает сборку мусора. Также выражается в процентах от общего размера `Metaspace.

В результате появления `Metaspace`, процесс очистки памяти получил некоторые преимущества. Теперь сборщик мусора автоматически удаляет из памяти ненужные классы, когда емкость, выделенная для хранения метаданных, достигает максимального значения. Вместе с этим, уменьшилась вероятность получения ошибки `OutOfMemoryError`.