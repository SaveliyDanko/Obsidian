---
tags:
  - review
sr-due: 2026-02-06
sr-interval: 27
sr-ease: 250
---

---
Include guards (защита от повторного включения) — это шаблон в заголовочных файлах `.h`, который не даёт подключить один и тот же заголовок дважды в рамках одного `.c` после разворачивания всех `#include`.

###### **Зачем это нужно**
Потому что `#include` — это текстовая вставка. Если один заголовок попадёт в итоговый файл два раза (напрямую или через цепочку других заголовков), возникнут ошибки типа: повторное определение `struct`, `typedef`, `enum`

###### **Классический include guard**
```c
#ifndef MYHEADER_H
#define MYHEADER_H

// содержимое заголовка: typedef/struct/prototypes/defines

#endif
```
Как это работает:
1. В первый раз макрос `MYHEADER_H` не определён → условие `#ifndef` истинно → мы определяем `MYHEADER_H` и пропускаем внутрь содержимое.
2. Во второй раз `MYHEADER_H` уже определён → `#ifndef` ложно → весь заголовок пропускается.
    
###### **Альтернатива:** `#pragma once`
```c
#pragma once
```
Плюсы:
- короче
- меньше шансов ошибиться с именем макроса
    
Минусы:
- это не стандарт C (но поддерживается почти всеми популярными компиляторами)
