---
tags:
  - review
sr-due: 2026-04-27
sr-interval: 128
sr-ease: 270
---

---
**Internet Protocol (IP)** — это сетевой протокол, который определяет как пакеты данных доставляются от одного устройства к другому через сеть (например, через интернет).

Он:
- задаёт структуру IP-пакета (заголовок + данные)
- обеспечивает адресацию (IP-адреса)
- занимается маршрутизацией (передачей пакета через множество узлов до адресата)

###### **Главные функции IP**
1. Адресация — у каждого устройства есть свой IP-адрес, например:
    - IPv4: `192.168.1.10`
    - IPv6: `2001:0db8::1`
        
2. Маршрутизация — IP определяет, через какие узлы нужно пройти, чтобы доставить пакет.
    
3. Инкапсуляция — IP оборачивает данные из транспортного уровня (TCP/UDP) в свой пакет.
    
4. Недостоверная доставка (best effort) — IP не гарантирует доставку. Он просто старается передать, а надёжность обеспечивает TCP.

###### **Пример в действии**
Ты открываешь сайт:
```
https://example.com
```
1. Браузер создаёт HTTP-запрос.
2. HTTP передаёт его TCP.
3. TCP делит данные на сегменты.
4. IP добавляет адреса:
    - Отправитель: `192.168.1.2`
    - Получатель: `93.184.216.34`
5. Пакет идёт через маршрутизаторы (роутеры), каждый из которых читает IP-заголовок и решает, куда дальше отправить.
6. На сервере IP-пакет принимается, TCP собирает данные, HTTP возвращает ответ.

###### **Структура IP-пакета (IPv4)**
```
| Version | Header Length | Type of Service | Total Length |
| Identification | Flags | Fragment Offset |
| TTL | Protocol | Header Checksum |
| Source IP Address |
| Destination IP Address |
| Data (Payload) |
```
Ключевые поля:
- Source IP — адрес отправителя
- Destination IP — адрес получателя
- TTL (Time To Live) — сколько “прыжков” (hop) можно пройти (уменьшается на каждом маршрутизаторе)
- Protocol — что внутри (TCP, UDP, ICMP и т.д.)
- Checksum — контроль правильности заголовка
