---
tags:
  - review
---

---
**Состояние гонки** — это ошибка проектирования многопоточной системы, при которой результат работы программы зависит от непредсказуемого порядка выполнения потоков или процессов, конкурирующих за доступ к общему ресурсу.

Чтобы возникла гонка, должны совпасть условия:
- Общий ресурс: Наличие переменной, файла или области памяти, к которой обращаются сразу несколько потоков.
    
- Конкуренция (Параллелизм): Минимум два потока работают одновременно (или по очереди, быстро сменяя друг друга).
    
- Хотя бы одна запись: Как минимум один из потоков должен не просто читать данные, а изменять их. Если все только читают — гонки не будет.
    
- Отсутствие синхронизации: У потоков нет мьютексов, которые заставляли бы их ждать своей очереди.