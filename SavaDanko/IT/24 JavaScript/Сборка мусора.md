#js 

---
[Garbage-Collection](https://learn.javascript.ru/garbage-collection)

---
#### Управление памятью
- Управление памятью в JavaScript происходит автоматически через сборку мусора. Движок JavaScript отслеживает объекты в памяти и удаляет те, которые больше не нужны.

#### Принцип достижимости
- Основной концепцией управления памятью является достижимость.
  - Достижимые значения — это те, к которым есть доступ и которые могут быть использованы.
  - Пример корневых значений:
    - Локальные переменные и параметры текущей выполняемой функции.
    - Глобальные переменные.
    - Другие активные функции в стеке вызовов.
    
  Все значения, доступные через ссылки от корневых значений, также считаются достижимыми.

#### Простой пример
Когда переменной присваивается объект, создаётся ссылка на объект. Если эту переменную перезаписать, объект становится недоступным, и сборщик мусора удаляет его:
  ```javascript
  let user = { name: "John" };
  user = null;  // объект John становится недоступным и удаляется
  ```

#### Две ссылки на один объект
Если объект имеет несколько ссылок (переменных), то он остаётся достижимым, пока хотя бы одна переменная ссылается на него:
  ```javascript
  let user = { name: "John" };
  let admin = user;  // две ссылки на один объект
  user = null;  // объект всё ещё достижим через admin
  ```
Этот конспект описывает основные принципы работы сборки мусора в JavaScript, такие как достижимость объектов и автоматическое освобождение памяти.

#### Связывание объектов
В JavaScript объекты могут ссылаться друг на друга. Функция может создать такие взаимосвязанные объекты:
  ```javascript
  function marry(man, woman) {
    woman.husband = man;
    man.wife = woman;
    
    return {
      father: man,
      mother: woman
    };
  }

  let family = marry({ name: "John" }, { name: "Ann" });
  ```
В данном примере создаётся два объекта (`man` и `woman`), которые ссылаются друг на друга через свойства `husband` и `wife`. Объект `family` содержит ссылки на оба этих объекта через `father` и `mother`.

#### Удаление ссылок
Если удалить одну из ссылок на объект, например:
  ```javascript
  delete family.father;
  delete family.mother.husband;
  ```
Объект всё ещё может оставаться доступным, так как есть оставшиеся ссылки.
Однако, если удалить все входящие ссылки на объект, он станет недоступным, и сборщик мусора удалит его:
  - После удаления всех ссылок на объект `John`, он становится недоступным и удаляется из памяти.
